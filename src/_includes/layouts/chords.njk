---
layout: layouts/base.njk
templateClass: tmpl-chords
title: Chords
data: chords
CSSFile: 'css/pages/chords.css'
eleventyNavigation:
  key: Chords
  parent: Music
---

{% from 'macros/urlIcon.njk' import urlIcon %}

<h2>Chords <a class="pull-right" href="https://github.com/statox/blog/issues/105#new_comment_field" target="_blank" rel="noopener noreferrer"><button>Add a song</button></a></h2>

{% set latestChords = chords | getLatestAddedChords(10) %}
{% set sortedChords = chords | sortChords | groupby("artist") %}

<div>
    <p>This is a list of {{chords.length}} song chords I have been gathering for the past 10 years and that I like to play.</p>
    <ol id="indexList" class="navigationBar disable-scrollbars"></ol>


    <div>
        <h3>Latest additions</h3>
        <ul class="ul2col">
            {% for chord in latestChords %}
            <li>
                {% set url=chord.url %}
                {% if '.doc' in url %}
                {% set url='/docviewer?docurl='+url %}
                {% endif %}

                <span>
                    <a href="{{url}}" target="_blank" rel="noopener noreferrer">{{chord.title}}</a>
                    {{ urlIcon(url) }}
                </span>
            </li>
            {% endfor %}
        </ul>
    </div>
    <br/>

    <div>
        <h3>Random song</h3>
        <button id="randomSongBtn" onclick="getRandomSong()">Get a random song</button>
        <button id='previousRandomSongBtn' onclick="getPreviousRandomSong()">&nbsp↶&nbsp</button>
        <br/>
        <ul id="randomSong"></ul>
    </div>
    <br/>

    <div>
        <h3>All chords</h3>
        Search an artist or a title: <input id="searchInput" type="text" oninput="doSearch()">
        <button id='resetSearchBtn' onclick="resetSearch()">&nbsp✖&nbsp</button>
    </div>
    <br/>

    <table>
        {% for artist, chords in sortedChords %}
        <tr class="datarow" data-values="{{artist}};{% for chord in chords %}{{chord.title}};{{chord.tags}};{% endfor %}">
            <td class="artist">{{artist}}
                <ul class="ul2col"l>
                    {% for chord in chords %}
                    <li class="datarow" data-values="{{artist}};{{chord.title}};{{chord.tags}}">
                        {% set url=chord.url %}
                        {% if '.doc' in url %}
                        {% set url='/docviewer?docurl='+url %}
                        {% endif %}

                        <span>
                            <a href="{{url}}" target="_blank" rel="noopener noreferrer">{{chord.title}}</a>
                            {{ urlIcon(url) }}
                        </span>
                    </li>
                    {% endfor %}
                </ul>
            </td>
        </tr>
        {% endfor %}
    </table>
</div>

{% set inlineJS %}
      {% include "scripts/chordsAlphabeticalIndex.js" %}
      {% include "scripts/doSearch.js" %}
      {% include "scripts/randomChordsButton.js" %}
{% endset %}
<script>
    {{ inlineJS | safe }}
</script>
