name: Add song chords

on:
  issue_comment:
    types:
      - created

jobs:
  issue_commented:
    # This job only runs for issue comments
    name: Issue comment
    if: |
      !github.event.issue.pull_request &&
      github.event.sender.login == 'statox'
    runs-on: ubuntu-latest
    steps:
      - name: ðŸ”€ Checkout
        uses: actions/checkout@v2
      - name: ðŸš© Configure node
        uses: actions/setup-node@v1
        with:
          node-version: '14'
      - name: ðŸ”§ Install and build
        run: npm ci
      - name: ðŸ’¬ Read comment
        uses: ./.github/actions/add-song-chords-action
        with:
          issueId: ${{ github.event.issue.id }}
          login: ${{ github.event.sender.login }}
          commenterId: ${{ github.event.sender.id }}
          comment: ${{ github.event.comment.body }}
