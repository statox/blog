<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <title>Birds flock simulation</title>
    <meta name="description" content="A personal blog where I write about my side projects">
    <meta name="keywords" content="statox blog">
    <meta property="og:title" content="The stuff I do">
    <meta property="og:url" content="https://www.statox.fr">
    <meta property="og:description" content="A personal blog where I write about my side projects">
    <meta property="og:type" content="website">

    
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/open-fonts@1.1.1/fonts/inter.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@exampledev/new.css@1.1.2/new.min.css">

    
    <link rel="stylesheet" href="https://unpkg.com/prismjs@1.20.0/themes/prism-tomorrow.css">

    
    <link rel="stylesheet" href="/css/index.css">
    <link rel="stylesheet" href="/css/material.css">
    <link rel="stylesheet" href="/css/minesweeper.css">
    <link rel="stylesheet" href="/css/boids.css">

</head>
<body>
    <header>
        <h1>The stuff I do</h1>
        <nav>
            <a href="/">Home</a> /
            <a href="/notes/">Notes</a> /
            <a href="/about/">About</a> /
            <a href="/social/">Social</a> /
            <a href="/feed.xml">RSS</a>
        </nav>
    </header>

    <div class="content-container">
        
<h2>Birds flock simulation</h2>
<p><a href="/">← Posts</a></p>


<!--
   - Resources I used
   -
   - https://en.wikipedia.org/wiki/Boids
   - http://www.vergenet.net/~conrad/boids/pseudocode.html
   - https://github.com/jackaperkins/boids
   -
   -->
<div class="boids">
<div>
    <label>Flock population</label>
    <input id="flockSizeInput" type="number">
    <button id="flockSizeBtn" onclick="updateFlockSize()">Reset flock</button>
    <button id="flockSizeBtn" onclick="resetObstacles()">Reset obstacles</button>
    <button class="active" id="loopButton">Play/pause simulation</button>
</div>
<div>
    <table>
        <tr>
            <td>
                <button class='inactive' id="followMouseButton">Follow mouse</button>
            </td>
            <td>
                <button class='inactive' id="followTargetButton">Follow target</button>
            </td>
            <td>
                <button class='active' id="wrapEdgesButton">Edge wrapping</button>
            </td>
            <td>
                <button class='active' id="showPerceptionCirclesButton">Show perception</button>
            </td>
            <td>
                <button id="markButton">Mark a random boid</button>
            </td>
        </tr>
    </table>
</div>
<div>
    <table>
        <tr>
            <th>Wiggling</th>
            <th>Alignement</th>
            <th>Separation</th>
            <th>Cohesion</th>
        </tr>
        <tr class="settings-table-values">
            <td>
                <div>
                    <button class='active' id="toggleWiggleButton">Toggle wiggling</button>
                    <p>Allowed angle <span id="wiggleAngleMarker">20</span></p>
                    <input type="range" min="0" max="90" value="20" step="0.5" class="slider" id="wiggleAngleSlider">
                    <p>Intensity <span id="wiggleIntensityeMarker">1</span></p>
                    <input type="range" min="0" max="5" value="1" step="0.1" class="slider" id="wiggleIntensitySlider">
                    <p>Max velocity <span id="maxSpeedMarker">6</span></p>
                    <input type="range" min="0" max="20" value="6" step="0.1" class="slider" id="boidSpeedSlider">
                </div>
            </td>
            <td>
                <div>
                    <button class='inactive' id="toggleAlignmentButton">Toggle alignment</button>
                    <p>Perception distance <span id="alignmentPerceptionMarker">80</span>px</p>
                    <input type="range" min="1" max="500" value="80" class="slider" id="alignementPerceptionDistanceSlider">
                    <p>Intensity <span id="alignmentIntensityMarker">2</span>N</p>
                    <input type="range" min="0" max="5" value="2" step="0.1" class="slider" id="alignementIntensitySlider">
                </div>
            </td>
            <td>
                <div>
                    <button class='inactive' id="toggleSeparationButton">Toggle separation</button>
                    <p>Perception distance <span id="separationPerceptionMarker">60</span>px</p>
                    <input type="range" min="1" max="500" value="60" class="slider" id="separationPerceptionDistanceSlider">
                    <p>Intensity <span id="separationIntensityMarker">2</span>N</p>
                    <input type="range" min="0" max="5" value="2" step="0.1" class="slider" id="separationIntensitySlider">
                </div>
            </td>
            <td>
                <div>
                    <button class='inactive' id="toggleCohesionButton">Toggle cohesion</button>
                    <p>Perception distance <span id="cohesionPerceptionMarker">80</span>px</p>
                    <input type="range" min="1" max="500" value="80" class="slider" id="cohesionPerceptionDistanceSlider">
                    <p>Intensity <span id="cohesionIntensityMarker">3</span>N</p>
                    <input type="range" min="0" max="5" value="3" step="0.1" class="slider" id="cohesionIntensitySlider">
                </div>
            </td>
        </tr>
    </table>
</div>
<div oncontextmenu="return false;" id="canvasDiv"></div>
</div>

<script src="https://cdn.jsdelivr.net/npm/p5@1.0.0/lib/p5.js"></script>
<script src="https://cdn.jsdelivr.net/gh/CodingTrain/QuadTree/quadtree.js"></script>
<script src="sketch.js"></script>
<script src="Interface.js"></script>
<script src="Bird.js"></script>
<script src="Target.js"></script>
<script src="Obstacle.js"></script>
<script src="utils.js"></script>


<p><a href="/">← Posts</a></p>

<hr>
<comments>
    <h3>Comments</h3>
    <a class="add-comment" href="https://github.com/statox/blog-comments/issues/X#new_comment_field"  target="_blank" rel="noopener noreferrer">
        <button>Comment on Github</button>
    </a>
    <br>
</comments>

<script type="text/javascript">


function domReady(fn) {
    document.addEventListener('DOMContentLoaded', fn);
    if (document.readyState === 'interactive' || document.readyState === 'complete') {
        fn();
    }
}

async function getComments(url = '') {
    const response = await fetch(url, {
        method: 'GET',
        mode: 'cors',
        cache: 'no-cache',
        headers: { Accept: 'application/vnd.github.v3.html+json' },
    });
    return response.json();
}

domReady(() => {
    const apiUrl = 'https://api.github.com/repos/statox/blog-comments/issues/X/comments';
    const appendComments = function (comments) {
        const commentSection = document.querySelector('comments');
        if (!comments || !comments.forEach || comments.length === 0) {
            commentSection.insertAdjacentHTML('beforeend', '<p>No comments yet.</p>');
            return;
        }
        comments.forEach(function (comment) {
            commentSection.insertAdjacentHTML(
                'beforeend',
                '<div class="comment">' +
                '• <a href="' + comment.user.html_url + '" target="_blank">' + comment.user.login + '</a>' +
                ' on' +
                ' <a href="' + comment.html_url + '" target="_blank">' + new Date(comment.created_at).toUTCString() + '</a>' +
                comment.body_html +
                '</div>',
            );
        });
    };
    getComments(apiUrl).then(appendComments);
});
</script>

    </div>

    <script data-goatcounter="https://statoxblog.goatcounter.com/count" async src="//gc.zgo.at/count.js"></script>
    <script async defer src="https://api.newcss.net/latest.js"></script>
    <noscript><img src="https://api.newcss.net/noscript.gif" alt=""></noscript>
</body>
</html>
